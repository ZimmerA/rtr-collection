cmake_minimum_required(VERSION 3.12)
set(CMAKE_CXX_STANDARD 14)

project(rtr-collection)

# Build and setup NANOGUI
set(NANOGUI_BUILD_EXAMPLE OFF CACHE BOOL " " FORCE)
set(NANOGUI_BUILD_PYTHON  OFF CACHE BOOL " " FORCE)
set(NANOGUI_INSTALL       OFF CACHE BOOL " " FORCE)
set(NANOGUI_BUILD_SHARED OFF CACHE BOOL " " FORCE)
add_subdirectory(${PROJECT_SOURCE_DIR}/lib/nanogui)
set_property(TARGET glfw glfw_objects nanogui PROPERTY FOLDER "dependencies")
# Various preprocessor definitions have been generated by NanoGUI
add_definitions(${NANOGUI_EXTRA_DEFS})

include_directories(${PROJECT_SOURCE_DIR}/src/common)
include_directories(${PROJECT_SOURCE_DIR}/includes)
include_directories(${PROJECT_SOURCE_DIR}/includes/glm)
include_directories(${PROJECT_SOURCE_DIR}/includes/stb)
include_directories(${PROJECT_SOURCE_DIR}/lib/tinygltf)
include_directories(${PROJECT_SOURCE_DIR}/lib/nanogui/include)
# On top of adding the path to nanogui/include, you may need extras
include_directories(${NANOGUI_EXTRA_INCS})

file(GLOB_RECURSE SRC ${PROJECT_SOURCE_DIR}/src/common/*.c* ${PROJECT_SOURCE_DIR}/src/common/*.h)
file(GLOB_RECURSE GLAD  ${PROJECT_SOURCE_DIR}/includes/glad/*.h* ${PROJECT_SOURCE_DIR}/includes/glad/*.c*)

add_executable(HelloTriangle ${SRC} ${PROJECT_SOURCE_DIR}/src/basic/01_HelloTriangle/helloTriangle.cpp ${GLAD})
target_link_libraries(HelloTriangle nanogui ${NANOGUI_EXTRA_LIBS})

add_executable(Cube ${SRC} ${PROJECT_SOURCE_DIR}/src/basic/02_Cube/cube.cpp ${GLAD})
target_link_libraries(Cube nanogui ${NANOGUI_EXTRA_LIBS})

add_executable(ScreenQuad ${SRC} ${PROJECT_SOURCE_DIR}/src/basic/03_ScreenQuad/screenQuad.cpp)
target_link_libraries(ScreenQuad nanogui ${NANOGUI_EXTRA_LIBS})

add_executable(NormalMapping ${SRC} ${PROJECT_SOURCE_DIR}/src/basic/04_NormalMapping/normalMapping.cpp ${GLAD})
target_link_libraries(NormalMapping nanogui ${NANOGUI_EXTRA_LIBS})

add_executable(DefferedShading ${SRC} ${PROJECT_SOURCE_DIR}/src/advanced/01_DeferredShading/deferredShading.cpp ${GLAD})
target_link_libraries(DefferedShading nanogui ${NANOGUI_EXTRA_LIBS})

add_executable(ShadowMappingColor ${SRC} src/advanced/02_ShadowMapping/PointLight/Cubemap/01_ColorTexture/shadowMapping.cpp ${GLAD})
target_link_libraries(ShadowMappingColor nanogui ${NANOGUI_EXTRA_LIBS})

add_executable(ShadowMappingDepth ${SRC} src/advanced/02_ShadowMapping/PointLight/Cubemap/02_DepthTexture/shadowMapping.cpp ${GLAD})
target_link_libraries(ShadowMappingDepth nanogui ${NANOGUI_EXTRA_LIBS})

